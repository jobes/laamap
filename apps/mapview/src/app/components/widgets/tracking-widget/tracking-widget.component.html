<ng-template transloco let-t>
  <ng-container *ngrxLet="tracking$ as tracking">
    <ng-container *ngrxLet="currentFlyTime$ as currentFlyTime">
      @if ((show$ | async) && (safePosition$ | async); as safePosition) {
        <div
          [style.background-color]="
            currentFlyTime.active ? tracking.activeBg : tracking.inactiveBg
          "
          [style.color]="
            currentFlyTime.active ? tracking.activeText : tracking.inactiveText
          "
          class="container"
          cdkDrag
          (cdkDragEnded)="dragEnded($event)"
          (cdkDragStarted)="dragStarted()"
          cdkDragBoundary="body"
          [cdkDragFreeDragPosition]="safePosition"
          [cdkDragStartDelay]="1000"
          (click)="openHistory()"
        >
          <h6>{{ t('widgets.tracking.header') }}</h6>
          <span class="value">{{ currentFlyTime.seconds | digitalTime }} </span>
        </div>
      }
    </ng-container>
  </ng-container>
</ng-template>
